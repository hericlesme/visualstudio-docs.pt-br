---
title: Portar, migrar e atualizar projetos
description: Uma referência para o suporte no Visual Studio de 2017 para projetos criados em versões anteriores do Visual Studio e como o Visual Studio decide quando ele precisa migrar um projeto.
ms.date: 03/14/2018
ms.prod: visual-studio-dev15
ms.technology: vs-ide-general
ms.topic: conceptual
author: kraigb
ms.author: kraigb
manager: douge
ms.workload: multiple
f1_keywords:
- Win8ExpressDesktopBlock
- w8trefactor
- VS.ReviewProjectAndSolutionChangesDialog.UpgradeRetarget
- ProjectCompatibilityDlgHelpTopic
- VS.ReviewProjectAndSolutionChangesDialog.Upgrade
helpviewer_keywords:
- conversion, projects
- asset compatibility
- projects, conversion
ms.openlocfilehash: 28b2f4df3cba1c0dd56cda6c8ba4e6c7f5cbe495
ms.sourcegitcommit: 928885ace538bef5b25961358d4f166d648f196a
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/27/2018
---
# <a name="project-migration-and-upgrade-reference-for-visual-studio-2017"></a>Referência de atualização e de migração de projeto para o Visual Studio 2017

Geralmente, cada nova versão do Visual Studio dá suporte à maioria dos tipos anteriores de projetos, arquivos e outros ativos. É possível trabalhar com eles [como você sempre trabalhou](../ide/solutions-and-projects-in-visual-studio.md) e, desde que não dependa de recursos mais novos, o Visual Studio geralmente tentará preservar a compatibilidade com versões anteriores, como o Visual Studio 2015, Visual Studio 2013 e Visual Studio 2012. (Consulte as [Notas de versão](https://www.visualstudio.com/vs/release-notes/) para saber quais recursos são específicos a quais versões.)

O suporte para alguns tipos de projeto também muda ao longo do tempo. Uma versão mais recente do Visual Studio pode já não dar suporte a determinados projetos ou pode exigir que eles sejam atualizados, de modo que eles deixam de ser compatíveis com versões anteriores. Para obter o status atual de problemas de migração, consulte o [site Developer Community (Comunidade do Desenvolvedor) do Visual Studio](https://developercommunity.visualstudio.com).

> [!Important]
> Este artigo fornece detalhes apenas para os tipos de projeto no Visual Studio de 2017 que envolvem migração. Ele não inclui os tipos de projeto compatíveis que não têm nenhum problema de migração, essa lista é encontrada em [Direcionamento e compatibilidade da plataforma](https://www.visualstudio.com/productinfo/vs2017-compatibility-vs). Observe também que alguns tipos de projeto não são mais compatíveis com o Visual Studio 2017 e, portanto, não podem ser migrados.

> [!Important]
> Alguns tipos de projeto exigem a instalação das cargas de trabalho apropriadas por meio do instalador do Visual Studio. Se a carga de trabalho não estiver instalada, o Visual Studio relatará um tipo de projeto desconhecido ou incompatível. Nesse caso, verifique as opções de instalação e tente novamente. Novamente, consulte o artigo [Direcionamento e compatibilidade da plataforma](https://www.visualstudio.com/productinfo/vs2017-compatibility-vs) para obter detalhes sobre o suporte de projetos no Visual Studio 2017.

## <a name="project-types"></a>Tipos de projeto

A lista a seguir descreve o suporte do Visual Studio 2017 a projetos que foram criados em versões anteriores.

Se não estiver listado aqui um projeto ou um tipo de arquivo que deveria estar, consulte a [versão deste artigo para o Visual Studio 2015](https://msdn.microsoft.com/library/hh266747.aspx) e use a opção "Fornecer comentários sobre a documentação" na parte inferior desta página para fornecer detalhes do seu projeto. (Se desejar uma resposta, use os comentários da documentação em vez do controle anônimo "Esta página é útil?" .)

| Tipo de projeto | Suporte |
| --- | --- |
| Projetos do .NET Core (xproj) | Projetos criados com o Visual Studio 2015 usavam ferramentas de visualização que incluíam um arquivo de projeto xproj. Para abrir um arquivo xproj com o Visual Studio 2017, será solicitado que você migre o arquivo para o formato csproj (será feito um backup do arquivo xproj). Esse formato csproj em projetos do .NET Core não é compatível com o Visual Studio 2015 e versões anteriores.  O formato xproj não é compatível com o Visual Studio 2017 além da migração para o csproj. Para obter mais informações, consulte [Migrando projetos do .NET Core para o formato csproj](/dotnet/core/migration/#visual-studio-2017).|
| Aplicativo Web ASP.NET e Aplicativo Web ASP.NET Core com o Application Insights habilitado | Para cada usuário do Visual Studio, as informações de recurso são armazenadas no Registro por instância de usuário. Essas informações serão usadas quando um usuário não tiver um projeto aberto e desejar pesquisar dados do Azure Application Insights. O Visual Studio 2015 usa um local de Registro diferente do Visual Studio 2017 e não entra em conflito com ele.<br/><br/>Quando um usuário cria um aplicativo Web ASP.NET ou um Aplicativo Web ASP.NET Core, os recursos são armazenados no arquivo .suo. O usuário pode abrir o projeto no Visual Studio 2015 ou 2017 e as informações de recurso serão usadas para ambos, desde que o Visual Studio seja compatível com os projetos e as soluções usados nas duas versões. Os usuários devem se autenticar uma vez em cada produto. Por exemplo, se um projeto for criado com o Visual Studio 2015 e aberto no Visual Studio 2017, o usuário precisará se autenticar no Visual Studio 2017. |
| Formulário da Web ou Windows Form em C#/Visual Basic | É possível abrir o projeto no Visual Studio 2017 e no Visual Studio 2015. |
| Projetos de teste de unidade de banco de dados (csproj, .vbproj) | Os projetos de teste de unidade de dados mais antigos são carregados no Visual Studio 2017, mas usam a versão do cache de assembly global das dependências. Para atualizar o projeto de teste de unidade para usar as dependências mais recentes, clique com o botão direito do mouse no projeto no Gerenciador de Soluções e selecione **Converter no Projeto de Teste de Unidade do SQL Server...**. |
| F# | O Visual Studio 2017 pode abrir projetos criados no Visual Studio 2013 e 2015. No entanto, para habilitar os recursos do Visual Studio 2017 nesses projetos, abra as propriedades do projeto e altere o destino fsharp.core para F# 4.1. Observe também que a opção **Suporte à linguagem F#** no instalador do Visual Studio não é selecionada por padrão com as cargas de trabalho do .NET. Você deve incluí-la selecionando essa opção para a carga de trabalho ou selecionando-a na guia **Componentes individuais** em **Atividades de desenvolvimento**. |
| InstallShield<br/>Instalação do MSI | Projetos do instalador criados no Visual Studio 2010 podem ser abertos em versões posteriores com a ajuda da [extensão Projetos do Instalador do Visual Studio](https://marketplace.visualstudio.com/items?itemName=UnniRavindranathan-MSFT.MicrosoftVisualStudio2013InstallerProjects). Consulte também o [WiX Toolset Visual Studio 2017 Extension](https://marketplace.visualstudio.com/items?itemName=RobMensching.WixToolsetVisualStudio2017Extension) (Extensão do Conjunto de Ferramentas WiX do Visual Studio 2017). O InstallShield Limited Edition não está mais incluído com o Visual Studio. Consulte a [Flexera Software](http://learn.flexerasoftware.com/content/IS-EVAL-InstallShield-Limited-Edition-Visual-Studio) sobre a disponibilidade para o Visual Studio 2017. |
| LightSwitch | Não há mais suporte para o LightSwitch no Visual Studio 2017. Os projetos criados com o Visual Studio 2012 e anteriores abertos no Visual Studio 2013 ou no Visual Studio 2015 serão atualizados e poderão ser abertos apenas no Visual Studio 2013 ou no Visual Studio 2015 e posteriores. |
| Ferramentas do Microsoft Azure para Visual Studio | Para abrir esses tipos de projetos, primeiro instale o [SDK do Azure para .NET](http://azure.microsoft.com/downloads/) e, em seguida, abra o projeto. Se necessário, o projeto será atualizado. |
| Estrutura Modelo-Exibição-Controlador (ASP.NET MVC) | Suporte para versões do MVC e para o Visual Studio:<ul><li>O Visual Studio 2010 SP1 dá suporte ao MVC 2 e MVC 3; o suporte MVC 4 é adicionado por meio do [download do ASP.NET 4 MVC 4 para Visual Studio 2010 SP1](https://www.microsoft.com/download/details.aspx?id=30683)</li><li>O Visual Studio 2012 dá suporte apenas ao MVC 3 e ao MVC 4</li><li>O Visual Studio 2013 dá suporte apenas ao MVC 4 e ao MVC 5</li><li>O Visual Studio 2017 e o Visual Studio 2015 dão suporte ao MVC 4 (é possível abrir projetos existentes, mas não criar novos) e ao MVC 5</li></ul><br/>Atualizando versões do MVC:<ul><li>Para obter informações sobre como atualizar automaticamente do MVC 2 para o MVC 3, consulte [Atualizador do aplicativo ASP.NET MVC 3](http://go.microsoft.com/fwlink/?LinkID=238178).</li><li>Para obter informações sobre como atualizar manualmente do MVC 2 para o MVC 3, consulte [Atualizando um projeto ASP.NET MVC 2 para atualização de ferramentas do ASP.NET MVC 3](http://go.microsoft.com/fwlink/?linkid=238178).</li><li>Para obter informações sobre como atualizar manualmente do MVC 3 para o MVC 4, consulte [Atualizando um projeto ASP.NET MVC 3 para o ASP.NET MVC 4](http://www.asp.net/whitepapers/mvc4-release-notes). Se o projeto se destinar ao .NET Framework 3.5 SP1, você deverá redirecioná-lo para usar o .NET Framework 4.</li><li>Para obter informações sobre como atualizar manualmente do MVC 4 para o MVC 5, consulte [Como atualizar um projeto do ASP.NET MVC 4 e API Web para o ASP.NET MVC 5 e API Web 2](https://www.asp.net/mvc/overview/releases/how-to-upgrade-an-aspnet-mvc-4-and-web-api-project-to-aspnet-mvc-5-and-web-api-2).</li></ul> |
| Modelagem | Se você permitir que o Visual Studio atualize o projeto automaticamente, será possível abri-lo no Visual Studio 2015, Visual Studio 2013 ou Visual Studio 2012.<br/><br/>O formato do projeto de modelagem não foi alterado entre o Visual Studio 2015 e o Visual Studio 2017 e pode ser aberto e modificado em qualquer versão. No entanto, há diferenças de comportamento no Visual Studio 2017:<ul><li>Os projetos de modelagem agora são chamados de projetos de “Validação de dependência” nos menus e modelos.</li><li>Não há mais suporte para diagramas UML no Visual Studio 2017. Os arquivos UML são listados no Gerenciador de Soluções como antes, mas são abertos como arquivos XML. Use o Visual Studio 2015 para exibir, criar ou editar diagramas UML.</li><li>No Visual Studio de 2017, a validação de dependências de arquitetura não é mais executada quando o projeto de modelagem é criado. Em vez disso, a validação é executada durante a criação de cada projeto de código. Essa alteração não afeta o projeto de modelagem, mas exige alterações nos projetos de código que estão sendo validados. O Visual Studio 2017 pode fazer as alterações necessárias nos projetos de código automaticamente ([mais informações](http://go.microsoft.com/fwlink/?LinkId=827800)).</li></ul> |
| Instalação MSI (vdproj) | Consulte Projetos do InstallShield. |
| Office 2007 VSTO | Exige uma atualização unidirecional para o Visual Studio 2017. |
| Office 2010 VSTO | Se o projeto for destinado ao .NET Framework 4, será possível abri-lo no Visual Studio 2010 SP1 e posterior. Todos outros projetos exigem uma atualização unidirecional. |
| Service Fabric (sfproj) | Projetos de Aplicativo do Service Fabric podem ser abertos no Visual Studio 2015 ou no Visual Studio 2017, a menos que o projeto de Aplicativo do Service Fabric faça referência a um projeto de serviço do ASP.NET Core. Projetos do Service Fabric do Visual Studio 2015 que são abertos no Visual Studio de 2017 são migrados de forma unidirecional do formato xproj para csproj. Consulte "Projetos do .NET Core (xproj)" anteriormente nesta tabela. |
| SharePoint 2010 | Quando um projeto de solução do SharePoint for aberto com o Visual Studio 2017, ele será atualizado para o SharePoint 2013 ou SharePoint 2016. A carga de trabalho "Desenvolvimento de área de trabalho do .NET" deve ser instalada no Visual Studio 2017 para a atualização.<br/><br/>Para obter mais informações sobre como atualizar projetos do SharePoint, consulte [Atualizar para o SharePoint 2013](https://technet.microsoft.com/library/cc303420.aspx), [Atualizar fluxo de trabalho no SharePoint Server 2013](https://technet.microsoft.com/library/dn133867.aspx) e [Criar o farm do SharePoint Server 2016 para uma atualização de anexação de banco de dados](https://technet.microsoft.com/library/cc263026(v=office.16).aspx). |
| SharePoint 2016 | Projetos de Suplemento do SharePoint criados no Office Developer Tools Visualização 2 não podem ser abertos no Visual Studio 2017. Para contornar essa limitação, atualize o `MinimumVisualStudioVersion` para a versão 12.0 e o `MinimumOfficeToolsVersion` para a 12.2 no arquivo csproj vbproj. |
| Silverlight | Não há suporte para projetos do Silverlight no Visual Studio 2017. Para manter os aplicativos do Silverlight, continue a usar o Visual Studio 2015. |
| SQL Server Reporting Services e SQL Server Analysis Services (SSRS, SSDT, SSAS, MSAS) | O suporte para esses tipos de projeto é fornecido por meio de duas extensões na Galeria do Visual Studio: [Projetos de Modelagem do Microsoft Analysis Services](https://marketplace.visualstudio.com/items?itemName=ProBITools.MicrosoftAnalysisServicesModelingProjects) e [Projetos do Microsoft Reporting Services](https://marketplace.visualstudio.com/items?itemName=ProBITools.MicrosoftReportProjectsforVisualStudio). Suporte do SSDT também está incluso com a carga de trabalho de Processamento e Armazenamento de Dados no Visual Studio de 2017. |
| SQL Server Integration Services (SSIS) | O suporte para o Visual Studio 2017 está disponível por meio do SSDT (SQL Server Data Tools). Para obter mais informações, consulte o [blog do SQL Server Integration Services](https://blogs.msdn.microsoft.com/ssis/2017/08/23/ssis-designer-is-now-available-for-visual-studio-2017/). |
| Visual C++ | Você pode usar o Visual Studio 2017 para trabalhar em projetos criados em versões anteriores do Visual Studio no Visual Studio 2010. Quando você abre o projeto pela primeira vez, tem a opção de atualizar para o compilador e o conjunto de ferramentas mais recentes, ou continuar usando os originais. Se você optar por continuar usando os originais, o Visual Studio 2017 não modificará o arquivo de projeto e usará o conjunto de ferramentas da instalação anterior do Visual Studio para compilar o projeto. Manter as opções originais significa que você ainda pode abrir o projeto na versão original do Visual Studio, se for necessário. Para obter mais informações, consulte [Usar a multiplataforma nativa no Visual Studio para compilar projetos antigos](/cpp/porting/use-native-multi-targeting). |
| Extensibilidade/VSIX do Visual Studio | Os projetos com o MinimumVersion 14.0 ou inferior serão atualizados para declarar a MinimumVersion 15.0, que impede que o projeto seja aberto em versões anteriores do Visual Studio. Para permitir que um projeto seja aberto em versões anteriores, defina MinimumVersion como `$(VisualStudioVersion)`. Consulte também [Como migrar projetos de extensibilidade para o Visual Studio 2017](../extensibility/how-to-migrate-extensibility-projects-to-visual-studio-2017.md). |
| Visual Studio Lab Management | É possível usar o Microsoft Test Manager ou o Visual Studio 2010 SP1 e posterior para abrir ambientes criados em qualquer uma dessas versões. No entanto, para o Visual Studio 2010 SP1, a versão do Microsoft Test Manager deve corresponder à versão do Team Foundation Server para que você possa criar ambientes. |
| Ferramentas do Visual Studio para Apache Cordova | Os projetos podem ser abertos no Visual Studio 2017, mas não são compatíveis com versões anteriores. Ao abrir um projeto do Visual Studio 2015, será solicitado que você permita modificações no projeto. Essa modificação atualiza o projeto para usar conjuntos de ferramentas em vez de um arquivo `taco.json` para gerenciar o controle de versão da biblioteca Cordova, suas plataformas e seus plug-ins, bem como suas dependências de nó/npm. Consulte o [guia de migração](https://docs.microsoft.com/visualstudio/cross-platform/tools-for-cordova/first-steps/migrate-from-visual-studio-2015) para obter mais informações. |
| Implantação da Web (wdproj) | O suporte para projetos da Implantação da Web foi removido no Visual Studio 2012 com a adição do suporte ao perfil de publicação. Como não há nenhum equivalente no Visual Studio 2017, não há nenhum caminho de migração automática para esses projetos. Em vez disso, abra o arquivo wdproj em um editor de texto e copie e cole as personalizações em para o arquivo pubxml (perfil de publicação), conforme descrito em [StackOverflow](https://stackoverflow.com/a/12061065/1203388). Consulte também [Plans regarding website and web deployment projects (MSDN blogs)](https://blogs.msdn.microsoft.com/webdev/2012/08/06/plans-regarding-website-projects-and-web-deployment-projects) (Planos sobre projetos de implantação da Web e de site) (blogs do MSDN). |
| Windows Communication Foundation, Windows Workflow Foundation | É possível abrir esse projeto no Visual Studio 2017, Visual Studio 2015, Visual Studio 2013 e Visual Studio 2012 |
| Windows Presentation Foundation | É possível abrir esse projeto no Visual Studio 2013, Visual Studio 2012 e Visual Studio 2010 SP1. |
| Aplicativos da Windows Store/aplicativos Windows Phone | Não há suporte para projetos da Windows Store 8.1 e 8.0 e do Windows Phone 8.1 e 8.0 no Visual Studio 2017. Para manter esses aplicativos, continue a usar o Visual Studio 2015. Para manter os projetos do Windows Phone 7. x, use o Visual Studio 2012. |

## <a name="how-visual-studio-decides-when-to-migrate-a-project"></a>Como o Visual Studio decide quando migrar um projeto

Cada nova versão do Visual Studio geralmente tenta manter a compatibilidade com versões anteriores, de forma que o mesmo projeto pode ser aberto, modificado e compilado em versões diferentes. No entanto, há alterações inevitáveis ao longo do tempo, de modo que alguns projetos podem deixar de ter suporte. (Consulte em [Direcionamento e compatibilidade de plataformas](https://www.visualstudio.com/productinfo/vs2017-compatibility-vs) quais tipos de projeto têm suporte no Visual Studio 2017.) Nesses casos, uma versão mais recente do Visual Studio não carregará o projeto e não oferecerá um caminho de migração. Você precisará manter o projeto em uma versão anterior do Visual Studio que dá suporte a ele.

Em outros casos, a versão mais recente do Visual Studio poderá abrir um projeto, mas precisará atualizar ou migrar o projeto, de forma que ele poderá se tornar incompatível com versões anteriores. O Visual Studio usa um número de critérios para determinar se essa migração é necessária:

- Compatibilidade com as versões de destino das plataformas, até o Visual Studio 2013 RTM.

- Compatibilidade de ativos de tempo de design com versões anteriores do Visual Studio. (Ou seja, canais diferentes do Visual Studio 2017; Visual Studio 2015 RTM e Atualização 3; Visual Studio 2013 RTM e Atualização 5; Visual Studio 2012 Atualização 4; Visual Studio 2010 SP 1.) O Visual Studio 2017 tem o objetivo de falhar de maneira elegante com ativos de tempo de design preteridos sem corrompê-los, de modo que versões anteriores ainda possam abrir o projeto.

- Se novos ativos de tempo de design interromperiam a compatibilidade com versões anteriores até o Visual Studio 2013 RTM e Atualização 5.

O engenheiro responsável pelo tipo de projeto em questão examina esses critérios e toma a decisão em termos de compatibilidade, suporte e migração. Novamente, o Visual Studio tenta manter uma compatibilidade transparente entre versões do Visual Studio se possível, o que significa que é possível criar e modificar projetos em uma versão do Visual Studio e ele funcionar em outras versões.

Se tal compatibilidade não for possível, no entanto, como ocorre com alguns dos tipos de projeto descritos neste artigo, o Visual Studio abrirá o assistente de atualização para fazer as alterações unidirecionais necessárias.

Essas alterações unidirecionais podem envolver a alteração a propriedade `ToolsVersion` no arquivo de projeto, que indica exatamente qual versão do MSBuild pode transformar o código-fonte do projeto em artefatos executáveis e implantáveis que você deseja. Ou seja, o que torna um projeto incompatível com versões anteriores do Visual Studio não é a versão do *Visual Studio*, mas a versão do *MSBuild*, conforme determinado por `ToolsVersion`. Desde que sua versão do Visual Studio contenha a cadeia de ferramentas do MSBuild correspondente a `ToolsVersion` em um projeto, o Visual Studio poderá invocar essa cadeia de ferramentas para compilar o projeto.

Para manter a compatibilidade máxima com projetos criados em versões mais antigas, o Visual Studio 2017 inclui as cadeias de ferramentas do MSBuild necessárias para dar suporte a `ToolsVersion` 14, 15, 12 e 4. Projetos que usam qualquer um desses valores `ToolsVersion` devem resultar em um build bem-sucedido. (Sujeito, novamente, ao suporte do Visual Studio 2017 ao tipo de projeto, conforme descrito em [Direcionamento e compatibilidade de plataformas](https://www.visualstudio.com/productinfo/vs2017-compatibility-vs).)

Nesse contexto, naturalmente surge o questionamento de se você deve tentar atualizar ou migrar manualmente um projeto para um valor mais recente de `ToolsVersion`. Essa alteração é desnecessária e provavelmente geraria muitos erros e avisos que você precisaria corrigir para conseguir compilar o projeto novamente. Além disso, se o Visual Studio deixar de dar suporte a um determinado `ToolsVersion` no futuro, abrir o projeto disparará o processo de migração do projeto especificamente porque o valor `ToolsVersion` precisará ser alterado. Nesse caso, o subsistema desse tipo específico de projeto sabe exatamente o que precisa ser alterado e pode fazer essas alterações automaticamente, conforme descrito anteriormente neste artigo.

Consulte os seguintes artigos para uma discussão mais detalhada:

- [Diretrizes de ToolsVersion](../msbuild/msbuild-toolset-toolsversion.md)
- [Diretrizes de direcionamento de estrutura](../ide/visual-studio-multi-targeting-overview.md)
